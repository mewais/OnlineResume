## Research and Projects

### ML/HPC Architecture ![](https://img.shields.io/badge/-AMD-orange) ![](https://img.shields.io/badge/status-Ongoing-yellow)
This is the bulk of my work at AMD. We design a line of AMD GPUs that target datacenter use, especially for ML applications. My work involves all of the follwoing:
* Writing/generating workloads for new target applications and optimizing these workloads to fit our line of GPUs.
* Workload analysis to find performance bottlenecks, fix performance bugs, or suggest new architecture features.
* Theoretical analysis and return on investment calculations for suggested features. This can range from spreadsheet based calculations, all the way to somewhat sophisticated python models, taking into consideration real BW and power numbers generated by accurate models for previous generations. The goal is to find a preliminary estimate of how much performance/power savings are estimated for each feature, before the actual work on the feature is done.
* Simulation of suggested features if/when needed, using our in-house simulator. The goal is usually to get a proof of concept working, and also confirm the return on investment calculations.
* Working with other teams to handover specs of features that will then go through the design/verification process.

### Datacenter Architecture ![](https://img.shields.io/badge/-University%20of%20Toronto-yellowgreen) ![](https://img.shields.io/badge/status-Ongoing-yellow)

This is my current focus in my PhD, mostly focusing on resource (especially memory) disaggregation in the datacenter. Currently, I am working on a simulator to facilitate the rest of the development and research into this. The following has been done so far:
* I began by surveying the state of the art in memory disaggregation, pointing out the differences and potential for improvement.
* Over the course of two years, I also built a distributed datacenter-scale computer architecture simulator to facilitate memory disaggregation studies.
  * The simulator works in two phases somewhat similar in nature to the [zsim](https://github.com/s5z/zsim) simulator
  * Better, more detailed memory hierarchy models, less focus on the CPU models (though they do exist).
  * The ability to work across multiple machines to sustain the memory sizes required for running datacenter-scale applications.
  * The simulator is available [here](https://github.com/DCArch/DCSim) but will be open sourced later.
* The simulator is currently being used to study the following:
  * Find out the network requirements for memory disaggregation, considering factors like the distance between local and remote meomry, the size of both, and the unit/line size used at both, as well as many other relevant factors.
  * The effect of data sharing in remote memory (i.e., having multiple nodes and local memories share the same data on remote memory, introducing coherence between them).
  * Not Started Yet: The effect of remote memory on the virtual memory hierarchy, especially with data sharing.
  
### Tamantuq ![](https://img.shields.io/badge/-Personal-informational) ![](https://img.shields.io/badge/status-On%20Hold/Busy-red)

Tamantuq is my attempt at building some digital design CAD tools with my own personal spin. The purpose of which is to educate myself, test some theories and ideas I have in mind, and hopefully be able to improve the process.
I am currently working on a Parser and Elaborator for VHDL 2008, VHDL 2019, Verilog 2005, and SystemVerilog 2017. The intention is to provide **FULL** support of all four languages (unlike other tools out there that only provide partial support for only some of these). Once this is done, I will move to other steps in the digital design flow with the hopes of improving some of them.
Currently, the parser fully supporst VHDL 2008 and VHDL 2019, and partially supports both Verilog 2005 and SystemVerilog 2017. The elaborator is not yet started. This work will be open sourced when it starts to be at least partially functional.

### FPGA virtualization and containerization for VNFs ![](https://img.shields.io/badge/-University%20of%20Toronto-yellowgreen) ![](https://img.shields.io/badge/status-Finished-green)

This was the early part of my PhD. The idea is to allow FPGAs to be first class citizens in datacenters, essentially being able to virtualize them, deploy applications on them, share them between different users, and be able to scale up their applications. This work was more focused towards VNFs and Telecommunications and has the following capabilities:
* Disover FPGAs connected to datacenter nodes and advertise them as available resources. This is currently two components:
  * A modification to kubernetes device plugin API, found [here](https://github.com/kubernetes/kubernetes/pull/91190)
  * A device plugin to discover and utilize FPGAs, found [here](https://github.com/mewais/FPGA-K8s-DevicePlugin)
* Build docker containers that utilize FPGAs, found [here](https://github.com/UofT-HPRC/FFIVE)
* Deploy FPGA containers and utilize them in a cluster, found [here](https://github.com/UofT-HPRC/FFIVE)
* There are also some VNF examples available, including simple VXLAN wires, VXLAN loopbacks, a BPF-based Firewall, and a traffic generator, all of which can be found [here](https://github.com/UofT-HPRC/FFIVE)
  

### ShellCreator ![](https://img.shields.io/badge/-Personal-informational) ![](https://img.shields.io/badge/status-Maintained-green)

[ShellCreator](https://github.com/mewais/ShellCreator) is asimple python library that helps create complete shells (command line interfaces) for user applications. Think the interactive shell of Vivado, Design Compiler, a bash shell, etc. The library has support for data types, if statements, while statements, autocompletion, colorization, indentation, and many other features. Users can simply extend the library with their own defined commands.
![](assets/images/shell1.png)
![](assets/images/shell2.png)


### Online Resume ![](https://img.shields.io/badge/-Personal-informational) ![](https://img.shields.io/badge/status-Finished-green)
This website, the one you're looking at right now. I wanted something that includes everything I'd like to add in my resume, without the size restrictions. This website will be under constant improvement and addition to make it up to date.

The source code can be found [here](https://github.com/mewais/OnlineResume)


### ML Accelerator Virtual ISA ![](https://img.shields.io/badge/-Huawei%20Technologies-brown) ![](https://img.shields.io/badge/status-Finished-green)

This was another project I worked on while at Huawei Technologies. I was mainly leading the following aspects:
* Designing and validating a new Virtual ISA for in-house AI accelerator chips. Similar in nature to NVidia PTX.
* Maintain Virtual ISA forward compatibility and coverage over all chip generations.
* Full definition and addition of the new Virtual ISA target to LLVM.

At the time of my leaving Huawei, we had a working draft that we were going to improve, I'm not sure what is the status of the project now.  
  

### GPU LLVM Compiler ![](https://img.shields.io/badge/-Huawei%20Technologies-brown) ![](https://img.shields.io/badge/status-Finished-green)

This was the bulk of my work while at Huawei Technologies. I was part of team working on implementing an LLVM based compiler for a first generation in-house built GPU. I was mainly the owner and responsible of the following:
* TableGen pattern matching and optimizations.
* Adding, modifying, or fixing various optimization CodeGen passes.
* Debugging and fixing C models.

The compiler was finished after I left Huawei, it is now being used successfully and the GPUs will be available in consumer phones sometime soon.  
  

### Instruction Offloading to HMC ![](https://img.shields.io/badge/-Personal-informational) ![](https://img.shields.io/badge/status-Abandoned-red)

This was a personal project out of interest. It aimed at utilizing 3D memories called Hybrid Memory Cubes, which are capable of executing some simple operations in memory. The idea is to use a metric called "Memory Reuse Distance" to decide which instructions are not utilizing the caches and are thus better suited for offloading and might benefit more from execution directly on the HMC. So far the following is done:
* Analysis of benchmarks to determine hot spots.
* Idealization (i.e. upper limit improvement) of all benchmarks.  

The following is yet to be done:
* Simulation of real offloading (with delay) in a simulated system.
* Building a predictor to decide what instructions to offload.

This project was abandoned when I found a paper implementing the exact same idea. My code and progress can be found [here](https://github.com/mewais/AwesomeInstructionOffloading).  
  

### Cache Compression and Approximation ![](https://img.shields.io/badge/-University%20of%20British%20Columbia-blueviolet) ![](https://img.shields.io/badge/status-Finished-green) [![](https://img.shields.io/badge/-Detailed%20Results-important)](/CacheCompression)

This was my work during my MSc, eventually this was published in my thesis, plus two conference papers. This work was focused on building caches that support compression, or approximation, or both. During this work I did the following:
* Analysis of data patterns, inter-block, and intra-block entropy in cache dumps of multiple benchmarks.
* Design of a new cache compression scheme that is capable of performing inter and intra line compression.
* Implementation of the new cache design as well as previous implementations using the zsim simulator.
* Investigation of approximation (lossy compression) and incorporating it in the compressed cache designs.  

All the different caches and their implementation can be found [here](https://github.com/mewais/zsim-CacheCompression). A page with the detailed results of this work can be found [here](/CacheCompression).  
  

### Home Cooked Android App ![](https://img.shields.io/badge/-Personal-informational) ![](https://img.shields.io/badge/status-Abandoned-red)

I love food, in fact, I love it way too much. This was one of my personal projects, the idea was to build an Android and iOS apps similar in essence to Uber Eats, but on a personal level. In other words, people who like cooking or want to cook professionally can do so and sell their food on the app (like restaurant on Uber Eats), and people like me who just want food can order through the app just like we do today with Uber Eats. The app had gone through a lot of development and was close to completion, when unfortunately I found out that it would be illegal in the US and Canada, thus bringing it to a halt.
The app utilized google authentication for login/signup, and google firebase database and firebase storage as its database for users, dishes, orders, images, etc. It was only lacking a payment option.  
![](assets/images/app1.png)
![](assets/images/app2.png)
![](assets/images/app3.png)  
  

### Using STT-RAM as main memory ![](https://img.shields.io/badge/-American%20University%20of%20Cairo-ff69b4) ![](https://img.shields.io/badge/status-Finished-green)

This research project was done when I was working at the AUC. The project targeted using Spin Transfer Torque magnetic memories as main memories. Which required modifying the Linux kernel virtual memory. During this project I did the following:
* Analyzed data similarities in memory page dumps of multiple benchmarks.
* Experimented with multiple hashing techniques to be able to identify similar pages.
* Used Gem5 and NVMain simulators to create a full computing system with STT-RAM as main memory.
* [Modified the Linux kernel virtual memory system](https://github.com/mewais/NVMLinux), to allow swapping in pages to similar blocks with less overhead.  

This work was finished successfully and resulted in a conference paper.  
  

### Hardware Trojan Detection ![](https://img.shields.io/badge/-Alexandria%20University-9cf) ![](https://img.shields.io/badge/status-Finished-green)

This was a research project done while I was doing my BSc. It aimed at detecting Trojans inserted into third party IP cores. During this project I was able to:
* Build and test a hardware trojan aimed at an encryption accelerator. With a very small footprint and hard to detect trigger condition.
* Design and implement a technique that uses circuit redundancy along with ahead of time execution to detect hardware Trojans and their attacks.  

This work was finished successfully and resulted in a conference paper.  
  

### ASIC implementation of a TMS320C25 DSP ![](https://img.shields.io/badge/-Alexandria%20University-9cf) ![](https://img.shields.io/badge/status-Finished-green)

This project was sponsored by [Si-Ware Systems](https://www.si-ware.com/) and was my undergraduate graduation project (Thesis). I had achieved the following:
* VHDL Implementation and verification of various building blocks of the TMS320C25 chip.
* FPGA Testing of the TMS320C25 chip on a Xilinx FPGA.
* Full ASIC Synthesis, Timing Analysis, and Post Synthesis Verification of the TMS320C25 using Synopsys Design Compiler, Prime Time, and Modelsim.  

The chip reached fabrication stage.  
